// format.wxs
  var ONE_MINUTE = 60000;
  var ONE_HOUR = 3600000;
  var ONE_DAY = 86400000;
  var ONE_MONTH = 2592000000;
  function formatTime(date) {
    var d = getDate(date);
    var localDate = getDate(d.getTime());
    
    function pad(num) {
      return (num < 10 ? '0' : '') + num;
    }
    
    return localDate.getFullYear() + '-' +
           pad(localDate.getMonth() + 1) + '-' +
           pad(localDate.getDate()) + ' ' +
           pad(localDate.getHours()) + ':' +
           pad(localDate.getMinutes()) + ':' +
           pad(localDate.getSeconds());
  }
  


  
  function formatTimeAgo(dateTime) {
    var now = getDate().getTime();
    var past = getDate(dateTime).getTime();
    var diff = now - past;
    
    if (diff < ONE_MINUTE) {
      return '刚刚';
    } else if (diff < ONE_HOUR) {
      return Math.floor(diff / ONE_MINUTE) + '分钟前';
    } else if (diff < ONE_DAY) {
      return Math.floor(diff / ONE_HOUR) + '小时前';
    } else if (diff < ONE_MONTH) {
      return Math.floor(diff / ONE_DAY) + '天前';
    } else {
      return '1个月前';
    }
  }
  

  module.exports = {
    formatTimeAgo: formatTimeAgo,
    formatTime: formatTime
  };